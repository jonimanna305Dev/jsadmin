<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login / Register | Webtan</title>
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900">

<!-- Container -->
<div class="min-h-screen flex items-center justify-center px-4">
  <div class="bg-gray-800 rounded-3xl shadow-xl w-full max-w-4xl overflow-hidden grid md:grid-cols-2">

    <!-- Left Image (hidden on mobile) -->
    <div class="hidden md:block">
      <img src="image/login-register.png" alt="Login Image" class="h-full w-full object-cover">
    </div>

    <!-- Right Form -->
    <div class="p-8 md:p-12 text-white">
      <h3 class="text-3xl font-bold mb-6 text-center" id="form-title">Login</h3>

      <!-- Login Form -->
      <form id="login-form" class="space-y-4">
        <div>
          <label class="block text-sm mb-1">Email address</label>
          <input type="email" id="login-email" placeholder="Enter email"
                 class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500" required>
        </div>

        <div>
          <label class="block text-sm mb-1">Password</label>
          <input type="password" id="login-password" placeholder="Enter password"
                 class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500" required>
        </div>

        <button class="w-full bg-orange-500 text-black font-semibold py-3 rounded-full hover:bg-orange-600 transition">
          Login
        </button>

        <p class="text-center text-sm text-gray-400">
          Don't have an account? 
          <a href="#" class="text-orange-500 hover:underline" id="show-register">Register</a>
        </p>
      </form>

      <!-- Register Form -->
      <form id="register-form" class="space-y-4 hidden">
        <div>
          <label class="block text-sm mb-1">Full Name</label>
          <input type="text" id="register-name" placeholder="Enter full name"
                 class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500" required>
        </div>

        <div>
          <label class="block text-sm mb-1">Email address</label>
          <input type="email" id="register-email" placeholder="Enter email"
                 class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500" required>
        </div>

        <div>
          <label class="block text-sm mb-1">Password</label>
          <input type="password" id="register-password" placeholder="Enter password"
                 class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500" required>
        </div>

        <div>
          <label class="block text-sm mb-1">Confirm Password</label>
          <input type="password" id="register-confirm-password" placeholder="Confirm password"
                 class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500" required>
        </div>

        <button class="w-full bg-green-500 text-black font-semibold py-3 rounded-full hover:bg-green-600 transition">
          Register
        </button>

        <p class="text-center text-sm text-gray-400">
          Already have an account? 
          <a href="#" class="text-orange-500 hover:underline" id="show-login">Login</a>
        </p>
      </form>

    </div>
  </div>
</div>

<!-- Scripts -->
<script>
  const loginForm = document.getElementById('login-form');
  const registerForm = document.getElementById('register-form');
  const formTitle = document.getElementById('form-title');

  // Toggle forms
  document.getElementById('show-register').onclick = e => {
    e.preventDefault();
    loginForm.classList.add('hidden');
    registerForm.classList.remove('hidden');
    formTitle.innerText = 'Register';
  };
  document.getElementById('show-login').onclick = e => {
    e.preventDefault();
    registerForm.classList.add('hidden');
    loginForm.classList.remove('hidden');
    formTitle.innerText = 'Login';
  };

  // Register
  registerForm.addEventListener('submit', e => {
    e.preventDefault();
    const name = document.getElementById('register-name').value.trim();
    const email = document.getElementById('register-email').value.trim();
    const password = document.getElementById('register-password').value;
    const confirmPassword = document.getElementById('register-confirm-password').value;

    if(password !== confirmPassword){
      alert('Password and Confirm Password do not match!');
      return;
    }

    let users = JSON.parse(localStorage.getItem('users')) || [];
    if(users.find(u => u.email === email)){
      alert('User already exists!');
      return;
    }

    users.push({ name, email, password });
    localStorage.setItem('users', JSON.stringify(users));

    alert('Registration successful! Please login.');
    document.getElementById('show-login').click();
  });

  // Login
  loginForm.addEventListener('submit', e => {
    e.preventDefault();
    const email = document.getElementById('login-email').value.trim();
    const password = document.getElementById('login-password').value;

    let users = JSON.parse(localStorage.getItem('users')) || [];
    const user = users.find(u => u.email === email && u.password === password);

    if(user){
      localStorage.setItem('currentUser', JSON.stringify(user));
      window.location.href = 'admin/dashboard.html';
    } else {
      alert('Invalid credentials!');
    }
  });
</script>

</body>
</html>
